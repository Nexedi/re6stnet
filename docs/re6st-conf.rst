============
 re6st-conf
============

-------------------------------
Configuration tool for re6stnet
-------------------------------

:Author: Nexedi
:Manual section: 1

SYNOPSIS
========

``re6st-conf`` ``--server`` `server-url` ``--port`` `server-port` [`command`] 
[`options`...]

DESCRIPTION
===========

re6st-conf is a tool generating the files necessary for re6stnet to run. It
connects to a distant server to generate the certificates files used by openvpn
in re6stnet.

USAGE
=====

re6st-conf requires data about a distant server running re6st-registry.

--server address
             Ip address of the machine running the re6stnet server. Both ipv4
             and ipv6 addresses are supported.

--port port
             Port to connect to on the machine running the re6stnet server.

Commands
--------

You may give at most one of the following commands. Giving the two commands
will not raise any errors, but does not have any meaning.

--email email-address
            The email address to associate with your certificates. Refrain
            re6st-conf from asking you your email address in a prompt. Useful
            for automatizing the configuration process.
            re6st-conf will ask you the token you received by email.

--token token
            Give your token if you have already received one but did not
            complete the configuration process. re6st-conf will not ask you
            anything. If you use this option, you do not need to give your
            email address.

Options
-------

-d, ``--dir`` `directory`
            Path of a directory where will be stored the files generated by the
            setup. The Setup genereates the following files, in the explicit
            order :

            - ca.pem : certificate authority file downloaded from the server
            - cert.key : private key generated by the script
            - cert.crt : individual certificate file generated by the server
            - dh2048.pem : dh file for oenvpn server

-r, ``--req`` `name` `value`
            Specify an attribute to add to the certificate request sent to the
            server. Can be used multiple times.
            Each use of the --req name value, will add the attribute name with
            the associated value in the sugbject of the certificate request.

--ca-only
            Stop the script after downloading the certificate authority file
            from the server

SEE ALSO
========

``re6stnet``\ (1), ``re6st-registry``\ (1)
